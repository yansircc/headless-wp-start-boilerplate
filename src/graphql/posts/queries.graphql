# Post Fragment
fragment PostFields on Post {
	id
	slug
	title
	excerpt
	date
	featuredImage {
		node {
			...MediaItemFields
		}
	}
}

fragment PostDetailFields on Post {
	...PostFields
	content
	author {
		node {
			name
			avatar {
				url
			}
		}
	}
	categories {
		nodes {
			id
			name
		}
	}
	tags {
		nodes {
			id
			name
		}
	}
	seo {
		...YoastSeoFields
	}
}

# 文章列表查询（支持多语言）
query PostsList($first: Int = 20, $language: LanguageCodeFilterEnum) {
	posts(first: $first, where: { language: $language }) {
		nodes {
			...PostFields
		}
	}
}

# 单篇文章查询（支持多语言）
# 使用 translation 获取指定语言版本
query GetPostBySlug($id: ID!, $language: LanguageCodeEnum!) {
	post(id: $id, idType: SLUG) {
		translation(language: $language) {
			...PostDetailFields
		}
	}
}
